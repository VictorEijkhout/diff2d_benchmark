% -*- latex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%
%%%% This text file is part of the source of 
%%%% `The Art of HPC, vol 1: The Science of Computing'
%%%% by Victor Eijkhout, copyright 2012-2023
%%%%
%%%% This book is distributed under a Creative Commons Attribution 3.0
%%%% Unported (CC BY 3.0) license and made possible by funding from
%%%% The Saylor Foundation \url{http://www.saylor.org}.
%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{listings}

\message{listings: define julia}
\lstdefinelanguage{Julia}
                  {morekeywords={function,if,else,end,print,println},
                    sensitive=true,
                  }
                  
\lstdefinelanguage{verbatim}{keywords=}

\lstdefinelanguage{CMake}{
  morekeywords={project,cmake_minimum_required,
    add_executable,add_library,
    target_compile_definitions,target_compile_options,add_compile_options,
    target_include_libraries,target_include_directories,
    target_link_library,target_link_directories,target_link_libraries,
    target_compile_features,target_link_options,target_sources,
    add_subdirectory,
    find_library,find_package,pkg_check_modules,
    install,math,message,option,set,
    if,else,elseif,endif,file,while,endwhile,foreach,endforeach,
    DIRECTORY,DESTINATION,FILES,GLOB,INTERFACE,MATCHES,
    NOTICE,VERBOSE,FATAL_ERROR,SEND_ERROR,WARNING,AUTHOR_WARNING,DEPRECATION,
    STATUS,VERBOSE,DEBUG,TRACE,
    PRIVATE,PUBLIC,REQUIRED,SHARED,STATIC,TARGETS,TRUE,VERSION,
    CMAKE_CXX_COMPILER,CMAKE_C_COMPILER,CMAKE_Fortran_COMPILER,CMAKE_LINKER,
    CMAKE_CXX_FLAGS,CMAKE_C_FLAGS,CMAKE_LINKER_FLAGS,CMAKE_CXX_STANDARD,
    CMAKE_BUILD_TYPE,CMAKE_CXX_COMPILE_FEATURES,
    CMAKE_INSTALL_PREFIX,CMAKE_PREFIX_PATH,CMAKE_MODULE_PATH,CMAKE_SYSTEM_NAME,
    CMAKE_CURRENT_BINARY_DIR,CMAKE_CURRENT_SOURCE_DIR,CMAKE_SOURCE_DIR,
    CMAKE_INSTALL_RPATH,CMAKE_INSTALL_RPATH_USE_LINK_PATH,
    CMAKE_POSITION_INDEPENDENT_CODE,
    FILES_MATCHING, PATTERN,STREQUALS,
    LIBRARY_OUTPUT_PATH,
    PROJECT_SOURCE_DIR,PROJECT_NAME,
    }
}
\lstdefinelanguage{git}{
  morekeywords={git,add,checkout,clone,commit,remote,revert,
  log,diff,HEAD,
    }
}
\lstdefinestyle{gitsession}{
  language=git,
  basicstyle=\footnotesize\ttfamily,
  breaklines=true, breakatwhitespace=true,
  postbreak=\hbox{{$\hookrightarrow$}}, % \textcolor{green}
}
\lstset{language=C}
\lstdefinestyle{reviewcode}{
  belowcaptionskip=1\baselineskip, breaklines=true,
  xleftmargin=.5\unitindent, showstringspaces=false,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{blue},
  commentstyle=\color{red!60!black},
  identifierstyle=\slshape\color{black},
  stringstyle=\color{green!60!black}, columns=fullflexible,
  keepspaces=true, }
\lstdefinestyle{greencode}{
  belowcaptionskip=1\baselineskip, breaklines=true,
  xleftmargin=.5\unitindent, showstringspaces=false,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{green!30!black},
  commentstyle=\color{red!60!black},
  identifierstyle=\slshape\color{black},
  stringstyle=\color{green!60!black}, columns=fullflexible,
  keepspaces=true, }
\lstset{style=reviewcode}

\lstdefinestyle{snippetcode}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  showstringspaces=false,
  basicstyle=\footnotesize\ttfamily,
  keywordstyle=\bfseries\color{blue},
  commentstyle=\color{red!60!black},
  stringstyle=\bfseries\color{gray!50!black},
  identifierstyle=\slshape\color{black},
  columns=fullflexible,
  keepspaces=true,
}
\lstdefinestyle{verbatimcode}{
  language=verbatim,
  basicstyle=\footnotesize\ttfamily,
  breaklines=true, breakatwhitespace=true,
  postbreak=\hbox{{$\hookrightarrow$}}, % \textcolor{green}
}
\lstdefinelanguage{verbatim}{keywords=}

\newcommand\pyinline[1]{\lstset{language=Python}\lstinline{#1}\lstset{language=C}}
